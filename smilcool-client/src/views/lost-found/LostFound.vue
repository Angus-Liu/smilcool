<template>
  <div class="container">
    <Row>
      <iCol class="column" span="16">
        <sui-menu>
          <a is="sui-menu-item" v-for="item in items" :active="isActive(item)" :key="item" :content="item"
             @click="select(item)"/>
          <sui-menu-menu position="right">
            <sui-menu-item>
              <sui-input transparent icon="search" placeholder="æœç´¢"/>
            </sui-menu-item>
          </sui-menu-menu>
        </sui-menu>
        <sui-card v-for="(lostFoundPage, index) in lostFoundPageList" :key="index">
          <sui-card-content>
            <sui-feed>
              <sui-feed-event>
                <sui-feed-label :image="lostFoundPage.user.avatar"/>
                <sui-feed-content>
                  <sui-feed-summary>
                    <sui-label class="category-label" basic
                               :color="lostFoundPage.lostFound.lostFoundCategory === 'å¯»ç‰©å¯äº‹'? 'red':'green'">
                      {{lostFoundPage.lostFound.lostFoundCategory}}
                    </sui-label>
                    <a href="#">{{lostFoundPage.lostFound.title}}</a>
                    <sui-feed-date>
                      <Time :time="lostFoundPage.lostFound.createTime"/>
                    </sui-feed-date>
                  </sui-feed-summary>
                  <sui-feed-extra text>{{lostFoundPage.lostFound.description}}</sui-feed-extra>
                  <sui-feed-extra images
                                  v-if="lostFoundPage.lostFound.images && lostFoundPage.lostFound.images.length !== 0">
                    <img v-for="img in lostFoundPage.lostFound.images" :src="img">
                  </sui-feed-extra>
                  <sui-feed-meta>
                    <sui-feed-like>
                      ğŸ‘ {{lostFoundPage.resource.zanCount}}
                    </sui-feed-like>
                    <sui-feed-like>
                      ğŸ’¬ {{lostFoundPage.resource.commentCount}}
                    </sui-feed-like>
                  </sui-feed-meta>
                </sui-feed-content>
              </sui-feed-event>
            </sui-feed>
          </sui-card-content>
        </sui-card>
      </iCol>
      <iCol class="column" span="8">
        <sui-card>
          <sui-message attached="top" icon="eye" negative>
            <sui-message-header>å¯»ç‰©å¯äº‹å°è´´å£«</sui-message-header>
            <p>ä»€ä¹ˆï¼Œä½ ä¸œè¥¿ä¸¢å•¦ï¼Ÿä¸è¦æ€•ï¼Œå¿«æ¥å‘å¸ƒä¸€æ¡å¯»ç‰©å¯äº‹å§ï¼Œå¾ˆå¿«å°±ä¼šæœ‰å¥½å¿ƒäººè”ç³»ä½ å•¦ã€‚å¯¹å•¦ï¼Œä¸€å®šè¦æ ¸å®ä¿¡æ¯ï¼Œå‡†ç¡®åå†å‘å¸ƒå“¦ ğŸ˜ƒ</p>
          </sui-message>
          <sui-button attached="bottom">
            <sui-icon name="add"/>
            å‘å¸ƒå¯»ç‰©å¯äº‹
          </sui-button>
        </sui-card>
        <sui-card>
          <sui-message attached="top" icon="bullhorn" positive>
            <sui-message-content>
              <sui-message-header>å¤±ç‰©æ‹›é¢†å°è´´å£«</sui-message-header>
              <p>æ¡åˆ°å“ªä½åŒå­¦ä¸å°ä¿¡æ‰è½çš„ç‰©å“å•¦ï¼Ÿå¿«å‘å¸ƒä¸€æ¡å¤±ç‰©æ‹›é¢†å§ï¼Œå¤±ä¸»ä¸€å®šä¼šéå¸¸éå¸¸æ„Ÿæ¿€ä½ å‘¢ ğŸ˜˜</p>
            </sui-message-content>
          </sui-message>
          <sui-button attached="bottom">
            <sui-icon name="add"/>
            å‘å¸ƒå¤±ç‰©æ‹›é¢†
          </sui-button>
        </sui-card>
      </iCol>
    </Row>
  </div>
</template>

<script>
export default {
  name: 'LostFound',
  data() {
    return {
      active: 'å¤±ç‰©æ‹›é¢†',
      items: ['å¤±ç‰©æ‹›é¢†', 'å¯»ç‰©å¯äº‹'],
      lostFoundPageList: [{
        'lostFound': {
          'id': 1,
          'userId': 1,
          'resourceId': 16,
          'lostFoundCategory': 'å¯»ç‰©å¯äº‹',
          'title': 'å››é£Ÿå ‚ä¸¢å¤±ä¸€ä¸ªé’±åŒ…',
          'description': 'å¦‚å›¾ï¼Œé’±åŒ…æ˜¯é»‘è‰²çš„ï¼Œé‡Œé¢æœ‰å°‘é‡ç°é‡‘å’Œä¸€å¼ å·¥è¡Œçš„å¡',
          'itemName': 'é’±åŒ…',
          'time': '2019-05-17T12:10:01.000+0000',
          'address': 'å››é£Ÿå ‚',
          'createTime': '2019-05-17 15:39:45',
          'images': [
            'https://img12.360buyimg.com/n7/jfs/t22831/61/2367409622/289066/5d9c3f/5b7d10feNe776b305.jpg',
            'https://img12.360buyimg.com/n7/jfs/t22831/61/2367409622/289066/5d9c3f/5b7d10feNe776b305.jpg'
          ]
        },
        'user': {
          'id': 1,
          'username': 'admin',
          'nickname': 'ç®¡ç†å‘˜',
          'avatar': 'http://img.angus-liu.cn/avatar/avatar07.png',
          'sex': 'ä¿å¯†',
          'birthday': '1970-01-01',
          'sign': 'ä¸€å¥è¯ä»‹ç»è‡ªå·±',
          'intro': 'è¿™ä¸ªäººå¾ˆç¥ç§˜ï¼Œä»€ä¹ˆä¹Ÿæ²¡å†™',
          'grade': 'æœªå¡«å†™',
          'college': 'æœªå¡«å†™',
          'major': 'æœªå¡«å†™',
          'phone': null,
          'email': 'admin@admin.com',
          'state': 1,
          'remark': 'è¶…çº§ç®¡ç†å‘˜è´¦æˆ·ï¼Œç”±ç³»ç»Ÿå†…å®šï¼Œè¯·å‹¿ä¿®æ”¹',
          'createTime': '2019-03-28',
          'updateTime': '2019-05-17'
        },
        'resource': {
          'id': 16,
          'userId': 1,
          'resourceDicType': 'å¤±ç‰©å¯»ç‰©ç±»åˆ«',
          'resourceDicItem': 'å¯»ç‰©å¯äº‹',
          'zanCount': 0,
          'pvCount': 0,
          'commentCount': 0,
          'state': 'æ­£å¸¸',
          'remark': null,
          'createTime': '2019-05-17 15:39:45',
          'updateTime': '2019-05-17 15:39:45',
          'deleted': false
        },
        'commentList': []
      }]
    }
  },
  methods: {
    isActive(name) {
      return this.active === name;
    },
    select(name) {
      this.active = name;
    },
    getLostFoundPageList() {
      this.$axios.get('/api/lost-found/page')
        .then(res => {
          let result = res.data;
          this.lostFoundPageList = result.data;
          this.lostFoundPageList.forEach(lostFoundPage => {
            if (lostFoundPage.lostFound.images !== null && lostFoundPage.lostFound.images.length !== 0) {
              lostFoundPage.lostFound.images = JSON.parse(lostFoundPage.lostFound.images);
            }
          })
        })
    }
  },
  mounted() {
    this.getLostFoundPageList();
  }
}
</script>

<style lang="less" scoped>
.container {
  width: 1140px;
  margin: 0 auto;
  /*background: #aaa;*/
  padding: 5px;

  .column {
    padding: 7px;
  }

  .tab-container {
    background: #fff;
    width: 100%;
    padding: 1rem;
  }

  .card {
    width: 100%;

    .category-label {
      margin-right: 10px;
    }
  }
}
</style>
