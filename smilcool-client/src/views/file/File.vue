<template>
  <div class="container">
    <Row>
      <iCol class="column" span="17">
        <!-- æ–‡ä»¶èœå•æ  -->
        <sui-card class="fluid">
          <sui-card-content>
            <dl class="cate-list">
              <dt>æ–‡ä»¶ç±»åˆ«ï¼š</dt>
              <dd>
                <ul>
                  <li v-for="(item, index) in fileCategory" :key="index">
                    <a href="#">{{item.name}}</a>
                  </li>
                </ul>
              </dd>
            </dl>
            <dl class="file-search">
              <dt>æ–‡ä»¶æœç´¢ï¼š</dt>
              <dd>
                <Input v-model="key">
                  <Button slot="append" icon="ios-search"></Button>
                </Input>
              </dd>
            </dl>
          </sui-card-content>
        </sui-card>
        <!-- æ–‡ä»¶èœå•æ  END -->
        <!-- æ–‡ä»¶åˆ—è¡¨ -->
        <sui-card class="fluid">
          <sui-message attached="top">æ–‡ä»¶åˆ—è¡¨</sui-message>
          <sui-card-content>
            <sui-item-group>
              <sui-item v-for="filePage in filePageList" :key="filePage.file.id">
                <sui-icon :name="getFileIcon(filePage.file.name)"/>
                <sui-item-content>
                  <sui-item-header>{{filePage.file.title}}</sui-item-header>
                  <sui-item-meta>
                    <span>{{filePage.file.name}}</span>
                  </sui-item-meta>
                  <sui-item-description>
                    <p>{{filePage.file.description}}</p>
                  </sui-item-description>
                  <sui-item-extra>
                    å¤§å°ï¼š{{filePage.file.size}}
                  </sui-item-extra>
                </sui-item-content>
              </sui-item>
            </sui-item-group>
          </sui-card-content>
          <sui-button-group attached="bottom" basic>
            <sui-button content="ä¸Šä¸€é¡µ" icon="left chevron" label-position="left"/>
            <sui-button-or/>
            <sui-button content="ä¸‹ä¸€é¡µ" icon="right chevron" label-position="right"/>
          </sui-button-group>
        </sui-card>
        <!-- æ–‡ä»¶åˆ—è¡¨ END -->
      </iCol>
      <iCol class="column" span="7">
        <!-- æ¶ˆæ¯æç¤º -->
        <sui-message dismissable>
          <sui-message-header>
            <i class="handshake outline icon"/> åˆ†äº«å­¦ä¹ èµ„æ–™ï¼Œè®©æ›´å¤šäººè·ç›Šã€‚
          </sui-message-header>
          <p style="text-align:justify">
            ä¸€ä¸ªäººç‹¬è¡Œå¯ä»¥èµ°å¾—å¾ˆå¿«ï¼Œä¸€ç¾¤äººæ‰ä¼šèµ°å¾—æ›´è¿œï¼æˆ‘ä»¬é¼“åŠ±å­¦ä¹ äº¤æµï¼Œæ›´é¼“åŠ±èµ„æºåˆ†äº«ã€‚
            å¦‚æœæ‰‹é‡Œæœ‰æ¯”è¾ƒå¥½çš„å­¦ä¹ èµ„æ–™ï¼Œå¸Œæœ›ä½ èƒ½åˆ†äº«å‡ºæ¥ï¼Œè®©å¤§å®¶ä»ä¸­å—ç›Šã€‚
            ä¸æ­¤åŒæ—¶ï¼Œä½ ä¹Ÿå°†ä¼šåœ¨è¿™ä¸ªå¹³å°ä¸Šæ‰¾åˆ°ä½ æ‰€éœ€è¦çš„å­¦ä¹ èµ„æ–™ã€‚â€œåˆ†äº«â€å¸®åŠ©ä½ æˆ‘æ¢ç´¢æ›´å¹¿é˜”çš„ä¸–ç•Œ ğŸ§
          </p>
          <sui-button fluid basic color="teal" icon="upload" content="ä¸Šä¼ æ–‡ä»¶"/>
        </sui-message>
        <!-- æ¶ˆæ¯æç¤º END -->
      </iCol>
    </Row>
  </div>
</template>

<script>

export default {
  name: 'File',
  data() {
    return {
      key: '',
      fileCategory: [
        {
          name: 'å…¨éƒ¨',
          code: 'all'
        }
      ],
      filePageList: [
        {
          'file': {
            'id': 1,
            'userId': 1,
            'resourceId': 2,
            'fileCategory': 'è®¡ç®—æœºç±»',
            'title': 'è®¡ç®—æœºç±»å…¨å¥—PPTï¼Œä½ å€¼å¾—æ‹¥æœ‰',
            'description': 'è®¡ç®—æœºç±»å…¨å¥—PPTï¼Œä½ å€¼å¾—æ‹¥æœ‰',
            'name': 'ä¸­åŒ—å¤§å­¦è®¡ç®—æœºç±».ppt',
            'size': '200MB',
            'url': 'http://bkt.angus-liu.cn/ä¸­åŒ—å¤§å­¦è®¡ç®—æœºç±».ppt',
            'downloadCount': 0,
            'createTime': '2019-05-13T09:18:13.000+0000'
          },
          'user': {
            'id': 1,
            'username': 'admin',
            'nickname': 'ç®¡ç†å‘˜',
            'avatar': 'http://img.angus-liu.cn/avatar/avatar07.png',
            'sex': 'ä¿å¯†',
            'birthday': '1970-01-01',
            'sign': 'ä¸€å¥è¯ä»‹ç»è‡ªå·±',
            'intro': 'è¿™ä¸ªäººå¾ˆç¥ç§˜ï¼Œä»€ä¹ˆä¹Ÿæ²¡å†™',
            'grade': 'æœªå¡«å†™',
            'college': 'æœªå¡«å†™',
            'major': 'æœªå¡«å†™',
            'phone': null,
            'email': 'admin@admin.com',
            'state': 1,
            'remark': 'è¶…çº§ç®¡ç†å‘˜è´¦æˆ·ï¼Œç”±ç³»ç»Ÿå†…å®šï¼Œè¯·å‹¿ä¿®æ”¹',
            'createTime': '2019-03-28',
            'updateTime': '2019-05-17'
          },
          'resource': {
            'id': 2,
            'userId': 1,
            'resourceDicType': 'æ–‡ä»¶ç±»åˆ«',
            'resourceDicItem': 'è®¡ç®—æœºç±»',
            'zanCount': 0,
            'pvCount': 0,
            'commentCount': 0,
            'state': 'æ­£å¸¸',
            'remark': null,
            'createTime': '2019-05-13 09:18:13',
            'updateTime': '2019-05-13 09:18:13',
            'deleted': false
          },
          'commentList': []
        }
      ]
    }
  },
  methods: {
    getFileCategory() {
      this.$axios.get('/api/dic/file-category/item')
        .then(res => {
          let result = res.data;
          this.fileCategory = result.data;
        });
    },
    getFilePageList() {
      this.$axios.get('/api/file/page')
        .then(res => {
          let result = res.data;
          this.filePageList = result.data;
        })
    },
    // æ ¹æ®æ–‡ä»¶åè·å–æ–‡ä»¶å›¾æ ‡æ ·å¼
    getFileIcon(filename) {
      let index = filename.lastIndexOf('.');
      let suffix = filename.substr(index + 1);
      switch (suffix) {
        case 'ppt':
        case 'pptx':
          return 'file powerpoint outline yellow';
        case 'doc':
        case 'docx':
          return 'file word outline blue';
        case 'xls':
        case 'xlsx':
          return 'file excel outline green';
        case 'pdf':
          return 'file pdf outline orange';
        default:
          return 'file alternate outline';
      }
    }
  },
  mounted() {
    this.getFileCategory();
    this.getFilePageList();
  }
}
</script>

<style lang="less" scoped>
.container {
  width: 1200px;
  margin: 10px auto;
  padding: 5px;
  /*background: #ccc;*/

  .card {
    .items {
      padding: 0 10px;

      .item {
        margin: 20px 0;
        padding-bottom: 10px;
        border-bottom: 1px dashed #ddd;

        i {
          font-size: 5em;
          line-height: 1;
          vertical-align: middle;
        }
      }

      .item:last-child {
        padding-bottom: 0;
        border-bottom: none;
      }
    }


  }

  .column {
    padding: 5px;
  }

  dl {
    margin-top: 15px;
    padding-bottom: 5px;
    border-bottom: 1px dashed #e6e6e6;
    overflow: auto;

    dt {
      float: left;
      width: 80px;
      color: #999;

    }

    dd {
      float: left;
      width: calc(100% - 80px);

      ul {
        list-style: none;

        li {
          display: inline-block;
          margin-right: 15px;
          margin-bottom: 10px;
          color: #546a7e;
        }
      }
    }
  }

  dl:last-child {
    border-bottom: none;
  }

  dl.file-search {
    line-height: 32px;
  }
}
</style>
